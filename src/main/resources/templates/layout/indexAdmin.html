<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Dashboard Big Store</title>
<script src='https://kit.fontawesome.com/a076d05399.js'
	crossorigin='anonymous'></script>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script type="text/javascript"
	src="http://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<link rel="stylesheet"
	href="http://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css">
<!-- plugins:css -->
<link rel="stylesheet"
	th:href="@{/admin/vendors/mdi/css/materialdesignicons.min.css}">
<link rel="stylesheet"
	th:href="@{/admin/vendors/css/vendor.bundle.base.css}">
<!-- endinject -->
<!-- Plugin css for this page -->
<link rel="stylesheet"
	th:href="@{/admin/vendors/flag-icon-css/css/flag-icon.min.css}">
<link rel="stylesheet"
	th:href="@{/admin/vendors/jvectormap/jquery-jvectormap.css}">
<!-- End plugin css for this page -->
<!-- Layout styles -->
<link rel="stylesheet" th:href="@{/admin/css/demo/style.css}">
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<!-- End layout styles -->
<link rel="shortcut icon" th:href="@{/admin/images/favicon.png}" />





<!-- bs -->
<!-- Bootstrap CSS -->
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
	integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
	crossorigin="anonymous">
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
	integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
	crossorigin="anonymous"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
	integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
	crossorigin="anonymous"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
	integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
	crossorigin="anonymous"></script>




</head>
<body>
	<script th:src="@{/admin/js/preloader.js}"></script>
	<div class="body-wrapper">
		<!-- Sidebar -->
		<aside class="mdc-drawer mdc-drawer--dismissible mdc-drawer--open">
			<div class="mdc-drawer__header">
				<a th:href="@{/admin/home}" class="brand-logo"> <img
					th:src="@{/admin/images/logo.svg}" alt="logo">
				</a>
			</div>
			<div class="mdc-drawer__content">
				<div class="user-info">
					<p class="name">Clyde Miles</p>
					<p class="email">clydemiles@elenor.us</p>
				</div>
				<div class="mdc-list-group">
					<nav class="mdc-list mdc-drawer-menu">
						<div class="mdc-list-item mdc-drawer-item">
							<a class="mdc-drawer-link" th:href="@{/admin/dashboard}"> <i
								class="material-icons mdc-list-item__start-detail mdc-drawer-item-icon"
								aria-hidden="true">home</i> [(#{menu.dashboash})]
							</a>
						</div>
						<div class="mdc-list-item mdc-drawer-item">
							<a class="mdc-drawer-link" th:href="@{/admin/forms}"> <i
								class="material-icons mdc-list-item__start-detail mdc-drawer-item-icon"
								aria-hidden="true">track_changes</i> [(#{menu.forms})]
							</a>
						</div>
						<div class="mdc-list-item mdc-drawer-item">
							<a class="mdc-expansion-panel-link" href="#"
								data-toggle="expansionPanel" data-target="ui-sub-menu"> <!--<i class="material-icons mdc-list-item__start-detail mdc-drawer-item-icon" aria-hidden="true">dashboard</i>
                --> <i
								class="fa fa-cubes mdc-list-item__start-detail mdc-drawer-item-icon"
								aria-hidden="true"></i>[(#{menu.ProductManagement})] <i
								class="mdc-drawer-arrow material-icons">chevron_right</i>
							</a>
							<div class="mdc-expansion-panel" id="ui-sub-menu">
								<nav class="mdc-list mdc-drawer-submenu">
									<div class="mdc--item mdc-drawer-item">
										<a class="mdc-drawer-link"
											th:href="@{/admin/product/categotyMgt}"> <i
											class='fa fa-university mdc-drawer-item-icon'
											style='font-size: 15px' aria-hidden="true"></i>
											[(#{menu.category})]
										</a>
									</div>
									<div class="mdc-list-item mdc-drawer-item">
										<a class="mdc-drawer-link"
											th:href="@{/admin/product/productMgt}"> <i
											class='fa fa-th-large mdc-drawer-item-icon'
											style='font-size: 15px' aria-hidden="true"></i>
											[(#{menu.products})]
										</a>
									</div>
								</nav>
							</div>
						</div>
						<div class="mdc-list-item mdc-drawer-item">
							<a class="mdc-expansion-panel-link" href="#"
								data-toggle="expansionPanel" data-target="ui-sub-menuUser">
								<!--<i class="material-icons mdc-list-item__start-detail mdc-drawer-item-icon" aria-hidden="true">dashboard</i>
                --> <i class='fas fa-user-alt mdc-drawer-item-icon'
								style='font-size: 20px' aria-hidden="true"></i>
								[(#{menu.UserManagement})] <i
								class="mdc-drawer-arrow material-icons">chevron_right</i>
							</a>
							<div class="mdc-expansion-panel" id="ui-sub-menuUser">
								<nav class="mdc-list mdc-drawer-submenu">
									<div class="mdc--item mdc-drawer-item">
										<a class="mdc-drawer-link"
											th:href="@{/admin/user/user-userMgt}"> <!--<i class='fas fa-user-alt mdc-drawer-item-icon' style='font-size:10px' aria-hidden="true"></i>
                     --> <i class='fas fa-user-cog mdc-drawer-item-icon'
											style='font-size: 15px'></i> [(#{menu.AccountUser})]
										</a>
									</div>
									<div class="mdc-list-item mdc-drawer-item">
										<a class="mdc-drawer-link"
											th:href="@{/admin/user/user-userVipMgt}"> <i
											class='fas fa-users mdc-drawer-item-icon'
											style='font-size: 15px'></i> User Top
										</a>
									</div>
								</nav>
							</div>
						</div>
						<div class="mdc-list-item mdc-drawer-item">
							<a class="mdc-drawer-link" th:href="@{/admin/ListOrder}"> <i
								class="material-icons mdc-list-item__start-detail mdc-drawer-item-icon"
								aria-hidden="true">grid_on</i> [(#{menu.List_Order})]
							</a>
						</div>
						<div class="mdc-list-item mdc-drawer-item">
							<a class="mdc-drawer-link" th:href="@{/admin/ChartOrder}"> <i
								class="material-icons mdc-list-item__start-detail mdc-drawer-item-icon"
								aria-hidden="true">pie_chart_outlined</i> [(#{menu.Charts})]
							</a>
						</div>
						<div class="mdc-list-item mdc-drawer-item">
							<a class="mdc-expansion-panel-link" href="#"
								data-toggle="expansionPanel" data-target="sample-page-submenu">
								<i
								class="material-icons mdc-list-item__start-detail mdc-drawer-item-icon"
								aria-hidden="true">pages</i> Sample Pages <i
								class="mdc-drawer-arrow material-icons">chevron_right</i>
							</a>
							<div class="mdc-expansion-panel" id="sample-page-submenu">
								<nav class="mdc-list mdc-drawer-submenu">
									<div class="mdc-list-item mdc-drawer-item">
										<a class="mdc-drawer-link"
											href="pages/samples/blank-page.html"> Blank Page </a>
									</div>
									<div class="mdc-list-item mdc-drawer-item">
										<a class="mdc-drawer-link" href="pages/samples/403.html">
											403 </a>
									</div>
									<div class="mdc-list-item mdc-drawer-item">
										<a class="mdc-drawer-link" href="pages/samples/404.html">
											404 </a>
									</div>
									<div class="mdc-list-item mdc-drawer-item">
										<a class="mdc-drawer-link" href="pages/samples/500.html">
											500 </a>
									</div>
									<div class="mdc-list-item mdc-drawer-item">
										<a class="mdc-drawer-link" href="pages/samples/505.html">
											505 </a>
									</div>
									<div class="mdc-list-item mdc-drawer-item">
										<a class="mdc-drawer-link" th:href="@{/admin/login}">
											Login </a>
									</div>
									<div class="mdc-list-item mdc-drawer-item">
										<a class="mdc-drawer-link" href="pages/samples/register.html">
											Register </a>
									</div>
								</nav>
							</div>
						</div>
						<div class="mdc-list-item mdc-drawer-item">
							<a class="mdc-drawer-link"
								th:href="@{https://www.bootstrapdash.com/demo/material-admin-free/jquery/documentation/documentation.html}"
								target="_blank"> <i
								class="material-icons mdc-list-item__start-detail mdc-drawer-item-icon"
								aria-hidden="true">description</i> Documentation
							</a>
						</div>
					</nav>
				</div>
				<div class="profile-actions">
					<a href="javascript:;">Settings</a> <span class="divider"></span> <a
						href="javascript:;">Logout</a>
				</div>
				<div class="mdc-card premium-card">
					<div class="d-flex align-items-center">
						<div class="mdc-card icon-card box-shadow-0">
							<i class="mdi mdi-shield-outline"></i>
						</div>
						<div>
							<p class="mt-0 mb-1 ml-2 font-weight-bold tx-12">Material
								Dash</p>
							<p class="mt-0 mb-0 ml-2 tx-10">Pro available</p>
						</div>
					</div>
					<p class="tx-8 mt-3 mb-1">More elements. More Pages.</p>
					<p class="tx-8 mb-3">Starting from $25.</p>
					<a
						th:href="@{https://www.bootstrapdash.com/product/material-design-admin-template/}"
						target="_blank"> <span
						class="mdc-button mdc-button--raised mdc-button--white">Upgrade
							to Pro</span>
					</a>
				</div>
			</div>
		</aside>
		<!-- End Sidebar -->
		<!-- partial MAIN-->
		<div class="main-wrapper mdc-drawer-app-content">
			<!-- Header Content -->
			<header class="mdc-top-app-bar">
				<div class="mdc-top-app-bar__row">
					<div
						class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
						<button
							class="material-icons mdc-top-app-bar__navigation-icon mdc-icon-button sidebar-toggler">menu</button>
						<span class="mdc-top-app-bar__title">Greetings Clyde!</span>
						<div
							class="mdc-text-field mdc-text-field--outlined mdc-text-field--with-leading-icon search-text-field d-none d-md-flex">
							<i class="material-icons mdc-text-field__icon">search</i> <input
								class="mdc-text-field__input" id="text-field-hero-input">
							<div class="mdc-notched-outline">
								<div class="mdc-notched-outline__leading"></div>
								<div class="mdc-notched-outline__notch">
									<label for="text-field-hero-input" class="mdc-floating-label">Search..</label>
								</div>
								<div class="mdc-notched-outline__trailing"></div>
							</div>
						</div>


						<!-- language -->
						<!-- th:href="@{/admin/vendors/flag-icon-css/css/flag-icon.min.css}" -->
						
    <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img width="32px" height="32px"
            > <span id="langName">--Choose language--</span>
           </button>
        <div class="dropdown-menu">
            <a class="dropdown-item" th:href="@{?lang=vi}" onclick="changuageValueLang('vn');check()"><img width="32px" height="32px"
								th:src="@{/admin/vendors/flag-icon-css/flags/4x3/vn.svg}"> Vietnamese</a>
            <a class="dropdown-item" th:href="@{?lang=en}" onclick="changuageValueLang('en');check()"><img
									width="32px" height="32px"
									th:src="@{/admin/vendors/flag-icon-css/flags/4x3/us.svg}"> English</a>
        </div>
    </div>

<!-- 


						<div class="dropdown show">

							<a class="btn btn-secondary dropdown-toggle"
								th:href="@{?lang=vi}" role="button" id="dropdownMenuLink"
								data-toggle="dropdown" aria-haspopup="true"
								aria-expanded="false"> <img width="32px" height="32px"
								th:src="@{/admin/vendors/flag-icon-css/flags/4x3/vn.svg}">
								Tiếng việt
							</a>
							<div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
								<a class="dropdown-item" th:href="@{?lang=vi}"> <img
									width="32px" height="32px"
									th:src="@{/admin/vendors/flag-icon-css/flags/4x3/vn.svg}">
									Tiếng việt
								</a> <a class="dropdown-item" th:href="@{?lang=en}"> <img
									width="32px" height="32px"
									th:src="@{/admin/vendors/flag-icon-css/flags/4x3/us.svg}">
									Tiếng anh
								</a>
							</div>
						</div> -->
					</div>
					<div
						class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end mdc-top-app-bar__section-right">
						<div class="menu-button-container menu-profile d-none d-md-block">
							<button class="mdc-button mdc-menu-button">
								<span class="d-flex align-items-center"> <span
									class="figure"> <img
										th:src="@{'/admin/images/faces/'+${session.currentUser.imgUrl}}"
										alt="user" class="user">
								</span> <span class="user-name"
									th:text="${session.currentUser.fullname}">Clyde Miles</span>
								</span>
							</button>
							<div class="mdc-menu mdc-menu-surface" tabindex="-1">
								<ul class="mdc-list" role="menu" aria-hidden="true"
									aria-orientation="vertical">
									<li class="mdc-list-item" role="menuitem">
										<div class="item-thumbnail item-thumbnail-icon-only">
											<i class="mdi mdi-account-edit-outline text-primary"></i>
										</div>
										<div
											class="item-content d-flex align-items-start flex-column justify-content-center">
											<h6 class="item-subject font-weight-normal">Edit profile</h6>
										</div>
									</li>
									<li class="mdc-list-item" role="menuitem">
										<div class="item-thumbnail item-thumbnail-icon-only">
											<i class="mdi mdi-settings-outline text-primary"></i>
										</div>
										<div
											class="item-content d-flex align-items-start flex-column justify-content-center">
											<h6 class="item-subject font-weight-normal">
												<a th:href="@{/admin/logout}">Logout</a>
											</h6>
										</div>
									</li>
								</ul>
							</div>
						</div>
						<div class="divider d-none d-md-block"></div>
						<div class="menu-button-container d-none d-md-block">
							<button class="mdc-button mdc-menu-button">
								<i class="mdi mdi-settings"></i>
							</button>
							<div class="mdc-menu mdc-menu-surface" tabindex="-1">
								<ul class="mdc-list" role="menu" aria-hidden="true"
									aria-orientation="vertical">
									<li class="mdc-list-item" role="menuitem">
										<div class="item-thumbnail item-thumbnail-icon-only">
											<i class="mdi mdi-alert-circle-outline text-primary"></i>
										</div>
										<div
											class="item-content d-flex align-items-start flex-column justify-content-center">
											<h6 class="item-subject font-weight-normal">Settings</h6>
										</div>
									</li>
									<li class="mdc-list-item" role="menuitem">
										<div class="item-thumbnail item-thumbnail-icon-only">
											<i class="mdi mdi-progress-download text-primary"></i>
										</div>
										<div
											class="item-content d-flex align-items-start flex-column justify-content-center">
											<h6 class="item-subject font-weight-normal">Update</h6>
										</div>
									</li>
								</ul>
							</div>
						</div>
						<div class="menu-button-container">
							<button class="mdc-button mdc-menu-button">
								<i class="mdi mdi-bell"></i>
							</button>
							<div class="mdc-menu mdc-menu-surface" tabindex="-1">
								<h6 class="title">
									<i class="mdi mdi-bell-outline mr-2 tx-16"></i> Notifications
								</h6>
								<ul class="mdc-list" role="menu" aria-hidden="true"
									aria-orientation="vertical">
									<li class="mdc-list-item" role="menuitem">
										<div class="item-thumbnail item-thumbnail-icon">
											<i class="mdi mdi-email-outline"></i>
										</div>
										<div
											class="item-content d-flex align-items-start flex-column justify-content-center">
											<h6 class="item-subject font-weight-normal">You received
												a new message</h6>
											<small class="text-muted"> 6 min ago </small>
										</div>
									</li>
									<li class="mdc-list-item" role="menuitem">
										<div class="item-thumbnail item-thumbnail-icon">
											<i class="mdi mdi-account-outline"></i>
										</div>
										<div
											class="item-content d-flex align-items-start flex-column justify-content-center">
											<h6 class="item-subject font-weight-normal">New user
												registered</h6>
											<small class="text-muted"> 15 min ago </small>
										</div>
									</li>
									<li class="mdc-list-item" role="menuitem">
										<div class="item-thumbnail item-thumbnail-icon">
											<i class="mdi mdi-alert-circle-outline"></i>
										</div>
										<div
											class="item-content d-flex align-items-start flex-column justify-content-center">
											<h6 class="item-subject font-weight-normal">System Alert</h6>
											<small class="text-muted"> 2 days ago </small>
										</div>
									</li>
									<li class="mdc-list-item" role="menuitem">
										<div class="item-thumbnail item-thumbnail-icon">
											<i class="mdi mdi-update"></i>
										</div>
										<div
											class="item-content d-flex align-items-start flex-column justify-content-center">
											<h6 class="item-subject font-weight-normal">You have a
												new update</h6>
											<small class="text-muted"> 3 days ago </small>
										</div>
									</li>
								</ul>
							</div>
						</div>
						<div class="menu-button-container">
							<button class="mdc-button mdc-menu-button">
								<i class="mdi mdi-email"></i> <span class="count-indicator">
									<span class="count">3</span>
								</span>
							</button>
							<div class="mdc-menu mdc-menu-surface" tabindex="-1">
								<h6 class="title">
									<i class="mdi mdi-email-outline mr-2 tx-16"></i> Messages
								</h6>
								<ul class="mdc-list" role="menu" aria-hidden="true"
									aria-orientation="vertical">
									<li class="mdc-list-item" role="menuitem">
										<div class="item-thumbnail">
											<img th:src="@{/admin/images/faces/face4.jpg}" alt="user">
										</div>
										<div
											class="item-content d-flex align-items-start flex-column justify-content-center">
											<h6 class="item-subject font-weight-normal">Mark send
												you a message</h6>
											<small class="text-muted"> 1 Minutes ago </small>
										</div>
									</li>
									<li class="mdc-list-item" role="menuitem">
										<div class="item-thumbnail">
											<img th:src="@{/admin/images/faces/face2.jpg}" alt="user">
										</div>
										<div
											class="item-content d-flex align-items-start flex-column justify-content-center">
											<h6 class="item-subject font-weight-normal">Cregh send
												you a message</h6>
											<small class="text-muted"> 15 Minutes ago </small>
										</div>
									</li>
									<li class="mdc-list-item" role="menuitem">
										<div class="item-thumbnail">
											<img th:src="@{/admin/images/faces/face3.jpg}" alt="user">
										</div>
										<div
											class="item-content d-flex align-items-start flex-column justify-content-center">
											<h6 class="item-subject font-weight-normal">Profile
												picture updated</h6>
											<small class="text-muted"> 18 Minutes ago </small>
										</div>
									</li>
								</ul>
							</div>
						</div>
						<div class="menu-button-container d-none d-md-block">
							<button class="mdc-button mdc-menu-button">
								<i class="mdi mdi-arrow-down-bold-box"></i>
							</button>
							<div class="mdc-menu mdc-menu-surface" tabindex="-1">
								<ul class="mdc-list" role="menu" aria-hidden="true"
									aria-orientation="vertical">
									<li class="mdc-list-item" role="menuitem">
										<div class="item-thumbnail item-thumbnail-icon-only">
											<i class="mdi mdi-lock-outline text-primary"></i>
										</div>
										<div
											class="item-content d-flex align-items-start flex-column justify-content-center">
											<h6 class="item-subject font-weight-normal">Lock screen</h6>
										</div>
									</li>
									<li class="mdc-list-item" role="menuitem">
										<div class="item-thumbnail item-thumbnail-icon-only">
											<i class="mdi mdi-logout-variant text-primary"></i>
										</div>
										<div
											class="item-content d-flex align-items-start flex-column justify-content-center">
											<h6 class="item-subject font-weight-normal">Logout</h6>
										</div>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</header>
			<!--End Header Content-->

			<!-- partial-->
			<div class="page-wrapper mdc-toolbar-fixed-adjust">
				<main class="content-wrapper">
					<div class="mdc-layout-grid">
						<!--**************************** Main Content ***************************************-->
						<div layout:fragment="contentAdmin"></div>
						<!--****************************END Main Content ***********************************-->
					</div>
				</main>
				<!-- partial:partials/_footer.html -->
				<footer>
					<div class="mdc-layout-grid">
						<div class="mdc-layout-grid__inner">
							<div
								class="mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-6-desktop">
								<span
									class="text-center text-sm-left d-block d-sm-inline-block tx-14">Copyright
									© <a th:href="@{https://www.bootstrapdash.com/}"
									target="_blank">bootstrapdash.com </a>2020
								</span>
							</div>
							<div
								class="mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-6-desktop d-flex justify-content-end">
								<span
									class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center tx-14">Free
									<a
									th:href="@{https://www.bootstrapdash.com/material-design-dashboard/}"
									target="_blank"> material admin </a> dashboards from
									Bootstrapdash.com
								</span>
							</div>
						</div>
					</div>
				</footer>
				<!-- partial -->
			</div>
		</div>
	</div>
	<!-- plugins:js -->
	<script th:src="@{/admin/vendors/js/vendor.bundle.base.js}"></script>
	<!-- endinject -->
	<!-- Plugin js for this page-->
	<script th:src="@{/admin/vendors/chartjs/Chart.min.js}"></script>
	<script th:src="@{/admin/vendors/jvectormap/jquery-jvectormap.min.js}"></script>
	<script
		th:src="@{/admin/vendors/jvectormap/jquery-jvectormap-world-mill-en.js}"></script>
	<!-- End plugin js for this page-->
	<!-- inject:js -->
	<script th:src="@{/admin/js/material.js}"></script>
	<script th:src="@{/admin/js/misc.js}"></script>
	<!-- endinject -->
	<!-- Custom js for this page-->
	<script th:src="@{/admin/js/dashboard.js}"></script>
	<!-- End custom js for this page-->
	<script th:src="@{/admin/js/material.js}"></script>
	<script th:src="@{/admin/js/chartjs.js}"></script>
	<script
		src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"
		type="text/javascript"></script>
	<!--Chart-->
	<script th:inline="javascript">
 	//ChartUser = (dataUsarray) =>{
		/*<![CDATA[*/
		var dataUsarray = /*[[${dataUs}]]*/ 'default';
		/*]]>*/
		var totalUser = $("#totalUser").get(0).getContext("2d");
	    var totalUser = new Chart(totalUser, {
	      type: 'doughnut',
	      data: {
			labels: dataUsarray[0],
			datasets: [{
		      data: dataUsarray[1],
		      backgroundColor: [
		        'rgba(255, 66, 15, 0.8)',
		        'rgba(0, 187, 221, 0.8)',
		        'rgba(255, 193, 7, 0.8)',
		        'rgba(0, 182, 122, 0.8)',
		        'rgba(153, 102, 255, 0.8)',
		        'rgba(255, 159, 64, 0.8)'
		      ],
		      borderColor: [
		        'rgba(255, 66, 15,1)',
		        'rgba(0, 187, 221, 1)',
		        'rgba(255, 193, 7, 1)',
		        'rgba(0, 182, 122, 1)',
		        'rgba(153, 102, 255, 1)',
		        'rgba(255, 159, 64, 1)'
		      ],
		      borderWidth: 3
		    }]
		    },
		      options: {
					responsive: true,
				    animation: {
				      animateScale: true,
				      animateRotate: true
				    }
			  }
	     }); 
   // }
    ChartOrderstatistics = (data) =>{
		jQuery.removeData("#OrderStatistics");
	    var OrderStatistics = $("#OrderStatistics").get(0).getContext("2d");
		//OrderStatistics.removeData();
		var OrderStatistics = new Chart(OrderStatistics, {
		      type: 'line',
		      data: {
				    labels: data[0],
				    datasets: [{
				      label: '# of Votes',
				      data: data[1],
				      backgroundColor: [
				        'rgba(255, 66, 15, 0.4)',
				        'rgba(0, 187, 221, 0.4)',
				        'rgba(255, 193, 7, 0.4)',
				        'rgba(0, 182, 122, 0.4)',
				        'rgba(153, 102, 255, 0.4)',
				        'rgba(255, 159, 64, 0.4)'
				      ],
				      borderColor: [
				        'rgba(255, 66, 15,1)',
				        'rgba(0, 187, 221, 1)',
				        'rgba(255, 193, 7, 1)',
				        'rgba(0, 182, 122, 1)',
				        'rgba(153, 102, 255, 1)',
				        'rgba(255, 159, 64, 1)'
				      ],
				      borderWidth: 1,
				      fill: true, // 3: no fill
				    }]
				  },
		      options: {
					    plugins: {
					      filler: {
					        propagate: true
					      }
					    }
					  }
		    });
	};
	setValueToForm = (data) =>{
				$('#txtuserName').val(data.fullname);
				$('#txtuserRole').val(data.role.description);
				$('#txtEmail').val(data.email);
				$('#txtHashPassWord').val(data.hashPassword);
				//$('#chkUsing').attr("style","checked");
				//$('#chkUsing').before();
				let pathimg = "/admin/images/faces/"+ data.imgUrl;
				$('#userImg').attr("src",pathimg);
				$('#txtEmail').focus();
				$('#txtHashPassWord').focus();
				$('#txtuserRole').focus();
				$('#txtuserName').focus();
	};

  /*************************************END USER********************************************/
</script>
	<!--Event - Data -->
	<script th:inline="javascript">
 	/*JQUERY */
 	// UserTable
 	UsersDb = (userId) => {
		let urlCurrent = '/api/admin/indexUser?userId='+userId;
		$.ajax({
			type: "GET",
			contentType: "application/json",
			url: urlCurrent,
			async: false,
			success: (userindex) =>{
				//this.ChartUser();
				//this.UserAccount();
				$("tableUsers").unbind();
				$("OrderStatistics").unbind();
				ChartOrderstatisticsById(userindex.id);
				setValueToForm(userindex);
			},
			error:(e) =>{
				alert(e)
			}
		});
	};

	ChartOrderstatisticsById = (userId) =>{
		let url = "/api/admin/totalPricebyId?userId="+userId;
		$.ajax({
			type: "GET",
			contentType: "application/json",
			url: url,
			async: false,
			success:(Data)=>{
				ChartOrderstatistics(Data);
			},
			error:(e) =>{
				alert(e);
			}
		})
	};

    $(document).ready(function (){
        loadDataProd();
         clearDataForm = () =>{
            $('#txtProdId').val("");
            $('#txtSlugProd').val("");
            $('#txtProdName').val("");
            $('#cboType').val("1");
            $('#txtQuantity').val("")
            $('#txtPrice').val("");
            $('#cboUnit').val("1");
            $('#txtDescription').val("");
            $("#btnDelete").prop('disabled',true);
            const img ="3ncGVzn.jpeg";
            const path = "/home/images/"+img;
            $('#prodImg').attr("src",path);
            $('#btnCreate').text('Create');
        }
        // products
        setValueToProdForm = (data) =>{
            $('#txtProdId').val(data.id);
            $('#txtSlugProd').val(data.slug);
            $('#txtProdName').val(data.name);
            $('#cboType').val(data.typeOfProduct.id);
            $('#txtQuantity').val(data.quantity)
            $('#txtPrice').val(data.price);
            $('#cboUnit').val(data.unitType.id);
            $('#txtDescription').val(data.description);
            const path = "/home/images/"+data.imgUrl;
            $('#prodImg').attr("src",path);
            $("#btnDelete").prop('disabled',false);
            $('#btnCreate').text('Update');
            $('#txtDescription').focus();
            $('#txtUnit').focus();
            $('#txtPrice').focus();
            $('#txtQuantity').focus();
            $('#txtTypeProd').focus();
            $('#txtProdName').focus();
            $('#txtProdId').focus();
        };
        prodItem = (item) =>{
            let response = '/api/admin/indexProd?index='+item;
            $.ajax({
                type: "GET",
                contentType: "application/json",
                url: response,
                async: false,
                success : (prod) =>{
                    setValueToProdForm(prod);
                },
                error: (e) =>{
                    alert('bug')
                }
            });
        };
        registerButton();
    });
    /*************************************BEGIN PRODUCT*****************************************/
    function addProduct(){
        let response = '/admin/product/productMgt/insert';
        let image = $('#prodImg').attr("src");
        const idProd = $("#txtProdId").val();
        const slugProd = $('#txtSlugProd').val();
        const prodName = $("#txtProdName").val();
        const typeProd = $("#cboType").val();
        const quantityProd = $("#txtQuantity").val();
        const priceProd = $("#txtPrice").val();
        const unitProd = $("#cboUnit").val();
        const descriptionProd = $('#txtDescription').val();
        const imageProd = image.split("/").pop();
        let jsonData = {
            id : idProd,
            slug : slugProd,
            name : prodName,
            quantity : quantityProd,
            price : priceProd,
            typeof : typeProd,
            unitof : unitProd,
            description : descriptionProd,
            imgUrl : imageProd,
        };
        $.ajax({
            type: "POST",
            url : response,
            data: JSON.stringify(jsonData),
            contentType:"application/json",
            success: function (data){
                $('#btnCreate').text('Update');
                Swal.fire({
                    icon: 'success',
                    text: data.status,
                    timer: 5000,
                }).then(function () {
                    loadDataProd();
                })
            },
            error: function (e){
                Swal.fire({
                    icon: 'error',
                    text: data.status,
                })
            }
        });
    }
    function deleteProduct(){
        let image = $('#prodImg').attr("src");
        const idProd = $("#txtProdId").val();
        const slugProd = $('#txtSlugProd').val();
        const prodName = $("#txtProdName").val();
        const typeProd = $("#cboType").val();
        const quantityProd = $("#txtQuantity").val();
        const priceProd = $("#txtPrice").val();
        const unitProd = $("#cboUnit").val();
        const descriptionProd = $('#txtDescription').val();
        const imageProd = image.split("/").pop();
        let jsonData = {
            id : idProd,
            slug : slugProd,
            name : prodName,
            quantity : quantityProd,
            price : priceProd,
            typeof : typeProd,
            unitof : unitProd,
            description : descriptionProd,
            imgUrl : imageProd,
        };
        let response = '/admin/product/productMgt/delete';
        $.ajax({
            type: "POST",
            url : response,
            data: JSON.stringify(jsonData),
            contentType:"application/json",
            success: function (data){
                Swal.fire({
                    icon: 'success',
                    text: data.status,
                }).then(function () {
                    loadDataProd();
                })
            },
            error: function (e){
                Swal.fire({
                    icon: 'error',
                    text: data.status,
                })
            }
        })
    }
    function loadDataProd(){
        let response = '/api/admin/allProd'
        $.ajax({
            type: "GET",
            url : response,
            contentType:"application/json",
            success: function (data){
                reloadTable(data);
            },
            error: function (e){
                Swal.fire({
                    icon: 'error',
                    text: "Can't load data !!!",
                })
            }
        })
    }
    function reloadTable(newProd){
        let body = ''
        for (let i = 0; i < newProd.length; i++){
            body += `<tr onclick='prodItem(${newProd[i].id})' class="text-center">` +
                `<td>${newProd[i].id}</td>` +
                `<td >${newProd[i].name}</td>\n` +
                `<td >${newProd[i].typeOfProduct.description}</td>` +
                `<td >${newProd[i].quantity}</td>` +
                `<td >${newProd[i].price}</td>` +
                `<td >${newProd[i].unitType.description}</td>` +
                `</tr>`
        }
        $('#bodyProd').html(body);
    };
    /*************************************END PRODUCT********************************************/
    
    registerButton = () =>{
      $("#btnDelete").prop('disabled',true);
      $("#btnClear").click( function (){
          clearDataForm();
      });
      $("#btnCreate").click(function (){
            addProduct();
        });
      $('#btnDelete').click(function (){
          deleteProduct();
          clearDataForm();
      });
    }
    
    //language   
  
        function check() {
            var lang = sessionStorage.lang || 'vn';
            var langName = document.getElementById("dropdownMenuButton");
            var tv = `<img width="32px" height="32px" src="/admin/vendors/flag-icon-css/flags/4x3/vn.svg"> VI`
            var ta =`<img width="32px" height="32px" src="/admin/vendors/flag-icon-css/flags/4x3/us.svg"> EN`
            langName.innerHTML = lang == 'vn' ? tv : ta
        }
        check();

        function changuageValueLang(params) {
            sessionStorage.lang = params;
            
        }
  		
</script>
</body>
</html>
